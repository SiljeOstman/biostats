---
output:
  html_document:
    css: custom.css
--- 

```{r setup&variables, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align='center')

# title: Creating a density plot
# author: jonathan
# revised: 18/2/2020 

WEB <- c("https://bioceed.uib.no/dropfolder/bioSTATS/Rmd/Basic/Visualizing/Simple/density-plot.html")
GIT <- c("https://github.com/jonathansoule/biostats/blob/master/Basic/Visualizing/Simple/density-plot.Rmd")
library(ggplot2)
library(gridExtra)
```
A density plot, like a histogram of frequency, helps visualize the distribution of a sample. This time, instead of bars, a single curve is drawn to represent that distribution. Note that quite often, these two plot types are complementary, and found together in the same chart.

Let's use `ggplot()` to draw the density plot for a data set generated by `rnorm()` (read more [here](https://biostats.w.uib.no/4-generating-random-series/){target="_blank"} about `rnorm()`). Here are the variables and dataframe:
```{r dataframe}
# ID
ID <- 1:200
# sample data
values <- rnorm(200, mean=65, sd=15)
# dataframe
df <- data.frame(ID, values)
```
<br/><br/>

We first map the data from the variable `values` by typing `ggplot(df, aes(values))` and then use `geom_density()` to draw the plot:
```{r plot}
ggplot(df, aes(values)) + 
  geom_density()
```

To realize how similar a density plot and a histogram are, we can put them next to each other:
```{r plot2, fig.width=10, fig.height=4}
grid.arrange(
  ggplot(df, aes(values)) +          # histogram
    geom_histogram(bins = 30),
  ggplot(df, aes(values)) +          # density plot
    geom_density(),
  ncol=2
)
```

There isn't much you can do to improve the look of a density plot, but you can alway add some colors with `fill=` and `color=`, or make the line thicker with `size=`:
```{r color}
ggplot(df, aes(values)) +  
  geom_density(fill="red", color="blue", size=1) 
```
<br/><br/>
If this is a bit to bright for your eyes, you may add some transparency with `alpha=`:
```{r transp}
ggplot(df, aes(values)) +  
  geom_density(fill="red", alpha=.2) 
```
<br/><br/>

***
<!-- UNCOMMENT TO ACTIVATE
Get the Rmarkdown file corresponding to this page on [GitHub](`r GIT`){target="_blank"}.
-->
